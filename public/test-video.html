<!DOCTYPE html>
<html>
<head>
    <title>NFT Video Test</title>
</head>
<body>
    <h1>NFT Video Test</h1>
    
    <h2>Test Video API</h2>
    <button onclick="testVideoAPI()">Test Video API</button>
    <div id="api-result"></div>
    
    <h2>Video Preview</h2>
    <video id="video-preview" width="400" height="300" controls>
        <source src="/api/nft-video-file?tokenId=1" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    
    <h2>All Tier Videos</h2>
    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-top: 20px;">
        <div>
            <h3>Bronze (Token 0)</h3>
            <video width="200" height="150" controls>
                <source src="/api/nft-video-file?tokenId=0" type="video/mp4">
            </video>
        </div>
        <div>
            <h3>Silver (Token 1)</h3>
            <video width="200" height="150" controls>
                <source src="/api/nft-video-file?tokenId=1" type="video/mp4">
            </video>
        </div>
        <div>
            <h3>Gold (Token 2)</h3>
            <video width="200" height="150" controls>
                <source src="/api/nft-video-file?tokenId=2" type="video/mp4">
            </video>
        </div>
        <div>
            <h3>Platinum (Token 3)</h3>
            <video width="200" height="150" controls>
                <source src="/api/nft-video-file?tokenId=3" type="video/mp4">
            </video>
        </div>
    </div>
    
    <script>
        async function testVideoAPI() {
            try {
                const response = await fetch('/api/nft-video-file?tokenId=1');
                if (response.ok) {
                    document.getElementById('api-result').innerHTML = 
                        '<p style="color: green;">✅ Video API works! Content-Type: ' + response.headers.get('content-type') + '</p>';
                } else {
                    document.getElementById('api-result').innerHTML = 
                        '<p style="color: red;">❌ Video API failed: ' + response.status + '</p>';
                }
            } catch (error) {
                document.getElementById('api-result').innerHTML = 
                    '<p style="color: red;">Error: ' + error.message + '</p>';
            }
        }
    </script>
</body>
</html>
